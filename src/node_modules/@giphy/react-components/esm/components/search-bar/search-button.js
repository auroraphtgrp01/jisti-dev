var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};
import { keyframes } from '@emotion/react';
import styled from '@emotion/styled';
import React, { useContext } from 'react';
import useThrottle from 'react-use/lib/useThrottle';
import { SearchContext } from './context';
import SearchIcon_ from './search-icon';
import { getSize } from './theme';
var time = '2s';
var purp = '#9933FF';
var pink = '#FF6666';
var strongEasing = 'cubic-bezier(0.920, 0.240, 0.185, 0.730)';
var searchFx = keyframes(templateObject_1 || (templateObject_1 = __makeTemplateObject(["\n    0% {\n      transform: rotate(34deg) translate(-10px, 80px);\n    };\n    \n    100% {\n      transform: rotate(34deg) translate(-10px, -20px);\n    }\n"], ["\n    0% {\n      transform: rotate(34deg) translate(-10px, 80px);\n    };\n    \n    100% {\n      transform: rotate(34deg) translate(-10px, -20px);\n    }\n"])));
var plus = keyframes(templateObject_2 || (templateObject_2 = __makeTemplateObject(["\n    0% { \n      transform: translate(0px, 0px);\n      opacity: 0;\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      transform: translate(10px, -17px);\n      opacity: 0;\n    }\n"], ["\n    0% { \n      transform: translate(0px, 0px);\n      opacity: 0;\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      transform: translate(10px, -17px);\n      opacity: 0;\n    }\n"])));
var gradientFade = keyframes(templateObject_3 || (templateObject_3 = __makeTemplateObject(["\n    0% {\n      opacity: 0;\n      transform: translateX(-400%);\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n      transform: translateX(0);\n    }\n"], ["\n    0% {\n      opacity: 0;\n      transform: translateX(-400%);\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0;\n      transform: translateX(0);\n    }\n"])));
var Container = styled.div(templateObject_4 || (templateObject_4 = __makeTemplateObject(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    cursor: pointer;\n    @media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {\n        display: none;\n    }\n    ", "\n"], ["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    cursor: pointer;\n    @media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {\n        display: none;\n    }\n    ", "\n"])), function (props) { return getSize(props.theme, true); });
var GradientBox = styled.div(templateObject_5 || (templateObject_5 = __makeTemplateObject(["\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: linear-gradient(45deg, ", " 0%, ", " 100%);\n    border-radius: 4px;\n    overflow: hidden;\n    &:before {\n        animation: ", " ", " linear 0s infinite;\n        background-image: linear-gradient(45deg, ", " 0%, ", " 50%, ", " 100%);\n        background-size: 400%;\n        background-position: 0% 100%;\n        content: '';\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        width: 400%;\n    }\n"], ["\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    background: linear-gradient(45deg, ", " 0%, ", " 100%);\n    border-radius: 4px;\n    overflow: hidden;\n    &:before {\n        animation: ", " ", " linear 0s infinite;\n        background-image: linear-gradient(45deg, ", " 0%, ", " 50%, ", " 100%);\n        background-size: 400%;\n        background-position: 0% 100%;\n        content: '';\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        width: 400%;\n    }\n"])), purp, pink, gradientFade, time, purp, pink, purp);
var Fx = styled.div(templateObject_6 || (templateObject_6 = __makeTemplateObject(["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    overflow: hidden;\n    &::after {\n        content: '+';\n        color: white;\n        font-family: 'SS Standard';\n        font-size: 8px;\n        position: absolute;\n        top: 65%;\n        left: 66%;\n        animation: ", " 1s ", " 0s 1 forwards;\n    }\n"], ["\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    overflow: hidden;\n    &::after {\n        content: '+';\n        color: white;\n        font-family: 'SS Standard';\n        font-size: 8px;\n        position: absolute;\n        top: 65%;\n        left: 66%;\n        animation: ", " 1s ", " 0s 1 forwards;\n    }\n"])), plus, strongEasing);
var Scanner = styled.div(templateObject_7 || (templateObject_7 = __makeTemplateObject(["\n    position: absolute;\n    width: 200%;\n    height: 20px;\n    background: rgba(255, 255, 255, 0.5);\n    transform: rotate(34deg) translate(-10px, -20px);\n    animation: ", " 1s ", " 0s 1;\n    filter: blur(1px);\n"], ["\n    position: absolute;\n    width: 200%;\n    height: 20px;\n    background: rgba(255, 255, 255, 0.5);\n    transform: rotate(34deg) translate(-10px, -20px);\n    animation: ", " 1s ", " 0s 1;\n    filter: blur(1px);\n"])), searchFx, strongEasing);
var SearchIcon = styled(SearchIcon_)(templateObject_8 || (templateObject_8 = __makeTemplateObject(["\n    z-index: 1;\n    display: flex;\n    width: 60%;\n    height: 60%;\n"], ["\n    z-index: 1;\n    display: flex;\n    width: 60%;\n    height: 60%;\n"])));
var SearchButton = function () {
    var isFetching = useContext(SearchContext).isFetching;
    // let the animation run by throttling isFetching
    var throttledFetch = useThrottle(isFetching, 1000);
    return (React.createElement(Container, null,
        React.createElement(GradientBox, null),
        React.createElement(SearchIcon, null),
        throttledFetch && (React.createElement(Fx, null,
            React.createElement(Scanner, null)))));
};
export default SearchButton;
var templateObject_1, templateObject_2, templateObject_3, templateObject_4, templateObject_5, templateObject_6, templateObject_7, templateObject_8;
//# sourceMappingURL=search-button.js.map