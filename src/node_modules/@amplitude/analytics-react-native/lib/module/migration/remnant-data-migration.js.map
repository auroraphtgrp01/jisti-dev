{"version":3,"names":["NativeModules","STORAGE_PREFIX","RemnantDataMigration","constructor","apiKey","instanceName","storage","firstRunSinceUpgrade","logger","eventsStorageKey","substring","nativeModule","AmplitudeReactNative","execute","moveIdentifies","moveInterceptedIdentifies","moveEvents","sessionData","callNativeFunction","getLegacySessionData","moveLegacyEvents","action","e","error","String","undefined","callNativeAction","eventKind","legacyJsonEvents","getLegacyEvents","length","events","get","eventIds","forEach","jsonEvent","event","convertLegacyEvent","push","event_id","set","eventId","removeLegacyEvent","legacyJsonEvent","JSON","parse","library","timestamp","uuid","api_properties","name","version","time","insert_id","androidADID","android_app_set_id","ios_idfa","ios_idfv","productId","quantity","price","location","adid","idfa","idfv","lat","lng","location_lat","location_lng","$productId","$quantity","$price","$revenueType","revenueType"],"sourceRoot":"../../src","sources":["remnant-data-migration.ts"],"mappings":"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"}